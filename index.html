<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StreamHub</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
<style>
:root {
  --a: #e63946;
  --a-rgb: 230,57,70;
  --a2: #ff6b7a;
  --a-glow: rgba(230,57,70,0.2);
  --bg: #06070a;
  --bg2: #0d0f14;
  --surface: rgba(255,255,255,0.04);
  --surface2: rgba(255,255,255,0.07);
  --border: rgba(255,255,255,0.08);
  --border2: rgba(255,255,255,0.14);
  --text: #edeae2;
  --text2: rgba(237,234,226,0.5);
  --text3: rgba(237,234,226,0.28);
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;min-height:100vh;overflow-x:hidden;font-size:14px;line-height:1.5}
body::after{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");opacity:.5}
.bg-fx{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.orb{position:absolute;border-radius:50%;filter:blur(120px);animation:orbFloat 22s ease-in-out infinite}
.orb1{width:700px;height:500px;top:-150px;left:-150px;background:var(--a);opacity:.07;animation-delay:0s}
.orb2{width:500px;height:500px;bottom:-100px;right:-100px;background:var(--a2);opacity:.06;animation-delay:-8s}
.orb3{width:350px;height:350px;top:40%;left:40%;background:rgba(var(--a-rgb),.5);opacity:.05;animation-delay:-15s}
@keyframes orbFloat{0%,100%{transform:translate(0,0)}33%{transform:translate(30px,-25px)}66%{transform:translate(-20px,35px)}}
.app{position:relative;z-index:1}
header{display:flex;align-items:center;justify-content:space-between;padding:22px 44px;position:sticky;top:0;z-index:100;background:rgba(6,7,10,.78);backdrop-filter:blur(28px);border-bottom:1px solid var(--border)}
.logo{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;letter-spacing:-.02em;display:flex;align-items:center;gap:9px}
.logo-dot{width:7px;height:7px;background:var(--a);border-radius:50%;box-shadow:0 0 10px var(--a);animation:blink 2s ease infinite}
@keyframes blink{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.5)}}
.hdr-right{display:flex;align-items:center;gap:12px}
.search-wrap{display:flex;align-items:center;gap:9px;background:var(--surface);border:1px solid var(--border);border-radius:50px;padding:9px 16px;transition:border-color .2s,background .2s}
.search-wrap:focus-within{border-color:var(--a);background:var(--surface2)}
.search-wrap svg{width:14px;height:14px;color:var(--text3);flex-shrink:0}
.search-wrap input{background:none;border:none;outline:none;color:var(--text);font-family:inherit;font-size:13px;width:170px}
.search-wrap input::placeholder{color:var(--text3)}
.btn-settings{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--surface);border:1px solid var(--border);border-radius:50%;cursor:pointer;color:var(--text2);transition:all .25s}
.btn-settings:hover{background:var(--a);border-color:var(--a);color:#fff;transform:rotate(80deg)}
.btn-settings svg{width:17px;height:17px}
.hero{padding:36px 44px 0}
.eyebrow{font-size:11px;letter-spacing:.22em;text-transform:uppercase;color:var(--a);margin-bottom:18px;display:flex;align-items:center;gap:10px;font-weight:500}
.eyebrow::before{content:'';width:18px;height:1px;background:var(--a)}
.hero-carousel{position:relative;height:430px;border-radius:22px;overflow:hidden;background:var(--bg2);border:1px solid var(--border)}
.hero-slide{position:absolute;inset:0;display:flex;align-items:center;opacity:0;transition:opacity .9s ease;pointer-events:none}
.hero-slide.active{opacity:1;pointer-events:all}
.slide-poster{position:absolute;right:0;top:0;bottom:0;width:48%;overflow:hidden}
.poster-art{width:100%;height:100%;display:flex;align-items:center;justify-content:center;transition:transform 10s ease}
.hero-slide.active .poster-art{transform:scale(1.06)}
.poster-fade{position:absolute;inset:0;background:linear-gradient(to right,var(--bg2) 0%,rgba(13,15,20,.4) 45%,transparent 100%)}
.poster-fade-b{position:absolute;inset:0;background:linear-gradient(to top,var(--bg2) 0%,transparent 40%)}
.slide-overlay{position:absolute;inset:0;background:linear-gradient(to right,var(--bg2) 30%,transparent 75%)}
.slide-content{position:relative;z-index:2;padding:44px 48px;max-width:56%}
.slide-badge{display:inline-flex;align-items:center;gap:7px;background:rgba(255,255,255,.09);border:1px solid rgba(255,255,255,.13);border-radius:50px;padding:5px 12px 5px 6px;font-size:11px;font-weight:500;letter-spacing:.04em;margin-bottom:14px;backdrop-filter:blur(10px)}
.badge-logo{width:20px;height:20px;border-radius:5px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:9px;font-family:'Syne',sans-serif}
.slide-title{font-family:'Syne',sans-serif;font-size:36px;font-weight:800;line-height:1.06;letter-spacing:-.03em;margin-bottom:10px}
.slide-meta{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--text2);margin-bottom:12px;font-weight:400}
.meta-sep{width:3px;height:3px;background:var(--text3);border-radius:50%}
.meta-score{font-weight:600;font-size:12px}
.slide-desc{font-size:13px;color:var(--text2);line-height:1.7;margin-bottom:24px;max-width:400px;font-weight:300}
.slide-actions{display:flex;gap:10px;flex-wrap:wrap}
.btn-play{display:inline-flex;align-items:center;gap:9px;background:var(--a);color:#fff;border:none;border-radius:50px;padding:12px 22px;font-family:inherit;font-size:13px;font-weight:500;cursor:pointer;transition:all .22s;text-decoration:none;box-shadow:0 0 28px var(--a-glow)}
.btn-play:hover{transform:scale(1.04);box-shadow:0 0 50px var(--a-glow)}
.btn-play svg{width:14px;height:14px}
.btn-trailer{display:inline-flex;align-items:center;gap:9px;background:rgba(255,255,255,.08);color:var(--text);border:1px solid var(--border2);border-radius:50px;padding:12px 20px;font-family:inherit;font-size:13px;font-weight:400;cursor:pointer;transition:all .22s;text-decoration:none;backdrop-filter:blur(10px)}
.btn-trailer:hover{background:rgba(255,0,0,.18);border-color:rgba(255,0,0,.45);color:#fff}
.btn-trailer .yt-icon{width:18px;height:18px;flex-shrink:0}
.hero-nav{position:absolute;bottom:20px;left:48px;z-index:10;display:flex;align-items:center;gap:8px}
.hdot{width:6px;height:6px;border-radius:3px;background:rgba(255,255,255,.25);cursor:pointer;transition:all .3s}
.hdot.active{width:22px;background:var(--a)}
.hero-bar{position:absolute;bottom:0;left:0;z-index:10;height:2px;background:var(--a);width:0%;box-shadow:0 0 8px var(--a)}
.services{padding:36px 44px 20px}
.sec-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:22px}
.sec-title{font-family:'Syne',sans-serif;font-size:16px;font-weight:700;letter-spacing:-.01em}
.sec-pill{font-size:11px;color:var(--text3);background:var(--surface);border:1px solid var(--border);border-radius:50px;padding:4px 12px}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
.scard{background:var(--surface);border:1px solid var(--border);border-radius:18px;overflow:hidden;cursor:pointer;transition:transform .28s cubic-bezier(.4,0,.2,1),border-color .28s,box-shadow .28s;text-decoration:none;color:inherit;display:block;position:relative}
.scard:hover{transform:translateY(-5px);border-color:rgba(255,255,255,.16);box-shadow:0 20px 60px rgba(0,0,0,.4)}
.scard::after{content:'';position:absolute;top:-100%;left:-60%;width:40%;height:300%;background:linear-gradient(to right,transparent,rgba(255,255,255,.05),transparent);transform:skewX(-20deg);transition:left .55s ease;z-index:10;pointer-events:none}
.scard:hover::after{left:150%}
.card-top{position:relative;height:108px;overflow:hidden}
.card-grad{position:absolute;inset:0;opacity:.5;transition:opacity .28s}
.scard:hover .card-grad{opacity:.8}
.card-dots{position:absolute;inset:0;opacity:.05;background-image:radial-gradient(circle,white 1px,transparent 1px);background-size:18px 18px}
.card-brand{position:absolute;bottom:14px;left:16px;display:flex;align-items:center;gap:10px}
.brand-icon{width:42px;height:42px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:800;font-size:11px;letter-spacing:-.03em;box-shadow:0 4px 18px rgba(0,0,0,.5)}
.brand-name{font-family:'Syne',sans-serif;font-size:14px;font-weight:700;text-shadow:0 1px 8px rgba(0,0,0,.6)}
.card-body{padding:14px 16px 16px}
.shows-label{font-size:10px;letter-spacing:.18em;text-transform:uppercase;color:var(--text3);margin-bottom:10px;font-weight:400}
.shows-list{display:flex;flex-direction:column;gap:7px;margin-bottom:14px}
.show-row{display:flex;align-items:center;gap:9px}
.show-poster{width:34px;height:48px;border-radius:5px;overflow:hidden;flex-shrink:0;position:relative;border:1px solid rgba(255,255,255,.1)}
.poster-bg{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:18px}
.poster-ov{position:absolute;inset:0;background:linear-gradient(160deg,rgba(255,255,255,.1) 0%,transparent 60%)}
.show-info{flex:1;min-width:0}
.show-name{font-size:12px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.3}
.show-sub{font-size:10px;color:var(--text3);margin-top:2px;font-weight:300}
.show-yt{width:24px;height:24px;border-radius:6px;background:rgba(255,255,255,.07);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s;text-decoration:none}
.show-yt:hover{background:#ff0000;border-color:#ff0000}
.show-yt svg{width:11px;height:11px;transition:color .2s}
.show-yt svg path{fill:var(--text3)}
.show-yt svg polygon{fill:var(--text3)}
.show-yt:hover svg path{fill:#fff}
.show-yt:hover svg polygon{fill:#fff}
.card-cta{display:flex;align-items:center;justify-content:space-between;background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:10px 12px;transition:all .22s}
.scard:hover .card-cta{background:var(--a);border-color:var(--a)}
.cta-text{font-size:12px;font-weight:500;letter-spacing:.02em}
.cta-arr{width:15px;height:15px;transition:transform .2s}
.scard:hover .cta-arr{transform:translateX(4px)}
.click-layer{position:fixed;inset:0;z-index:998;pointer-events:none;overflow:hidden}
.settings-bg{position:fixed;inset:0;z-index:200;background:rgba(6,7,10,.7);backdrop-filter:blur(8px);opacity:0;pointer-events:none;transition:opacity .3s}
.settings-bg.open{opacity:1;pointer-events:all}
.settings-panel{position:fixed;top:0;right:0;bottom:0;z-index:201;width:400px;background:var(--bg2);border-left:1px solid var(--border);transform:translateX(100%);transition:transform .38s cubic-bezier(.4,0,.2,1);overflow-y:auto;padding:32px 28px}
.settings-panel.open{transform:translateX(0)}
.sp-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:36px}
.sp-title{font-family:'Syne',sans-serif;font-size:18px;font-weight:700}
.sp-close{width:34px;height:34px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--surface);border:1px solid var(--border);cursor:pointer;color:var(--text2);transition:all .2s}
.sp-close:hover{background:var(--surface2);color:var(--text)}
.sp-close svg{width:15px;height:15px}
.sp-group{margin-bottom:32px}
.sp-lbl{font-size:10px;letter-spacing:.22em;text-transform:uppercase;color:var(--text3);margin-bottom:14px;font-weight:400}
.color-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:7px}
.csw{aspect-ratio:1;border-radius:7px;cursor:pointer;border:2px solid transparent;transition:all .18s;position:relative}
.csw:hover{transform:scale(1.18);z-index:2}
.csw.sel{border-color:#fff;transform:scale(1.1)}
.csw.sel::after{content:'âœ“';position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:9px;color:#fff;font-weight:700;text-shadow:0 1px 3px rgba(0,0,0,.8)}
.presets{display:flex;gap:7px;flex-wrap:wrap}
.preset{font-size:12px;font-weight:400;background:var(--surface);border:1px solid var(--border);border-radius:50px;padding:7px 14px;cursor:pointer;color:var(--text2);transition:all .18s}
.preset:hover,.preset.on{background:var(--a);border-color:var(--a);color:#fff}
.sl-row{display:flex;align-items:center;gap:14px;margin-bottom:12px}
.sl-lbl{font-size:12px;color:var(--text2);width:100px;flex-shrink:0;font-weight:400}
.sl-val{font-size:12px;color:var(--text2);width:46px;text-align:right;flex-shrink:0}
input[type=range]{flex:1;-webkit-appearance:none;appearance:none;height:3px;border-radius:2px;background:var(--border2);outline:none;cursor:pointer}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:15px;height:15px;border-radius:50%;background:var(--a);border:2px solid var(--bg2);box-shadow:0 0 8px var(--a-glow)}
footer{text-align:center;padding:28px 44px;border-top:1px solid var(--border);font-size:11px;color:var(--text3);line-height:2;font-weight:300}
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
.fu{animation:fadeUp .65s cubic-bezier(.4,0,.2,1) both}
.fu1{animation-delay:.08s}.fu2{animation-delay:.15s}.fu3{animation-delay:.22s}.fu4{animation-delay:.29s}.fu5{animation-delay:.36s}
@media(max-width:1100px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:768px){
  header{padding:18px 20px}
  .hero,.services{padding-left:20px;padding-right:20px}
  .slide-title{font-size:24px}
  .hero-carousel{height:auto;min-height:360px}
  .slide-content{max-width:100%;padding:28px 24px}
  .slide-poster{display:none}
  .slide-overlay{background:linear-gradient(to bottom,rgba(13,15,20,.3) 0%,var(--bg2) 100%)}
  .grid{grid-template-columns:1fr 1fr;gap:10px}
  .search-wrap{display:none}
}
@media(max-width:480px){.grid{grid-template-columns:1fr}.slide-title{font-size:20px}}
</style>
</head>
<body>
<div class="bg-fx"><div class="orb orb1"></div><div class="orb orb2"></div><div class="orb orb3"></div></div>
<div class="click-layer" id="clickLayer"></div>
<div class="settings-bg" id="sBg" onclick="closeSettings()"></div>

<div class="settings-panel" id="sPanel">
  <div class="sp-hdr">
    <div class="sp-title">Personnalisation</div>
    <div class="sp-close" onclick="closeSettings()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M18 6 6 18M6 6l12 12"/></svg></div>
  </div>
  <div class="sp-group">
    <div class="sp-lbl">Couleur d'accent Â· 64 teintes</div>
    <div class="color-grid" id="colorGrid"></div>
  </div>
  <div class="sp-group">
    <div class="sp-lbl">ThÃ¨mes prÃ©dÃ©finis</div>
    <div class="presets">
      <div class="preset" onclick="applyPreset('cinema',this)">CinÃ©ma</div>
      <div class="preset" onclick="applyPreset('neon',this)">NÃ©on</div>
      <div class="preset" onclick="applyPreset('ice',this)">GlacÃ©</div>
      <div class="preset" onclick="applyPreset('forest',this)">ForÃªt</div>
      <div class="preset" onclick="applyPreset('sunset',this)">Coucher</div>
      <div class="preset" onclick="applyPreset('midnight',this)">Minuit</div>
      <div class="preset" onclick="applyPreset('royal',this)">Royal</div>
      <div class="preset" onclick="applyPreset('fire',this)">Feu</div>
    </div>
  </div>
  <div class="sp-group">
    <div class="sp-lbl">Effets visuels</div>
    <div class="sl-row">
      <span class="sl-lbl">IntensitÃ© lueur</span>
      <input type="range" min="0" max="100" value="50" oninput="setGlow(this.value)">
    </div>
  </div>
  <div class="sp-group">
    <div class="sp-lbl">Rotation automatique</div>
    <div class="sl-row">
      <span class="sl-lbl">Intervalle</span>
      <input type="range" id="rotSlider" min="10" max="30" value="15" oninput="setRotation(this.value)">
      <span class="sl-val" id="rotVal">15s</span>
    </div>
  </div>
</div>

<div class="app">
  <header class="fu">
    <div class="logo"><div class="logo-dot"></div>StreamHub</div>
    <div class="hdr-right">
      <div class="search-wrap">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
        <input type="text" id="searchInput" placeholder="Chercher un serviceâ€¦" oninput="filterCards()">
      </div>
      <div class="btn-settings" onclick="openSettings()" title="ParamÃ¨tres">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
      </div>
    </div>
  </header>

  <section class="hero fu fu2">
    <div class="eyebrow">Ã€ la une Â· Rotation automatique</div>
    <div class="hero-carousel" id="heroCarousel">
      <div class="hero-nav" id="heroDots"></div>
      <div class="hero-bar" id="heroBar"></div>
    </div>
  </section>

  <section class="services fu fu3">
    <div class="sec-hdr">
      <div class="sec-title">Vos plateformes</div>
      <div class="sec-pill" id="countPill">8 services</div>
    </div>
    <div class="grid" id="servicesGrid"></div>
  </section>

  <footer class="fu fu5">
    StreamHub ouvre chaque service dans un nouvel onglet â€” votre compte personnel est requis sur chaque plateforme.<br>
    <span style="opacity:.5">Aucun identifiant stockÃ© Â· 100% lÃ©gal Â· Aucun DRM contournÃ©</span>
  </footer>
</div>

<script>
const SERVICES=[
  {id:'netflix',name:'Netflix',url:'https://www.netflix.com/browse',logo:'N',logoBg:'#e50914',logoText:'#fff',gradA:'#e50914',gradB:'#7a0000',heroTitle:'Squid Game',heroSpan:'Saison 2',heroMeta:['Thriller','2024'],heroScore:'8.0',heroDesc:"Les Jeux reprennent. Seong Gi-hun revient pour dÃ©fier le systÃ¨me depuis l'intÃ©rieur dans une saison encore plus sombre et intense.",heroColor:'#e50914',trailerQ:'squid+game+season+2+official+trailer',posterEmoji:'ðŸ¦‘',posterGrad:'linear-gradient(145deg,#8b0000 0%,#e50914 50%,#ff6b35 100%)',shows:[{name:'Squid Game S2',sub:'Thriller Â· 2024',emoji:'ðŸ¦‘',grad:'linear-gradient(145deg,#8b0000,#e50914)',yt:'squid+game+season+2+trailer'},{name:'Stranger Things S5',sub:'SF Â· 2025',emoji:'ðŸ”¦',grad:'linear-gradient(145deg,#1a237e,#5c35b4)',yt:'stranger+things+season+5+trailer'},{name:'The Diplomat S2',sub:'Politique Â· 2024',emoji:'ðŸ›ï¸',grad:'linear-gradient(145deg,#1b5e20,#388e3c)',yt:'the+diplomat+season+2+trailer'},{name:'Black Mirror S7',sub:'SF Â· 2025',emoji:'ðŸ“±',grad:'linear-gradient(145deg,#263238,#546e7a)',yt:'black+mirror+season+7+trailer'}]},
  {id:'disney',name:'Disney+',url:'https://www.disneyplus.com/home',logo:'D+',logoBg:'#0063e5',logoText:'#fff',gradA:'#0063e5',gradB:'#001d6c',heroTitle:'Agatha',heroSpan:'All Along',heroMeta:['SÃ©rie Marvel','2024'],heroScore:'7.8',heroDesc:"La sorciÃ¨re Agatha Harkness se lance dans une quÃªte mystÃ©rieuse avec des Ã¢mes perdues sur la Route des SorciÃ¨res.",heroColor:'#7c3aed',trailerQ:'agatha+all+along+official+trailer',posterEmoji:'ðŸ”®',posterGrad:'linear-gradient(145deg,#2d1b69 0%,#7c3aed 50%,#c026d3 100%)',shows:[{name:'Agatha All Along',sub:'Marvel Â· 2024',emoji:'ðŸ”®',grad:'linear-gradient(145deg,#2d1b69,#7c3aed)',yt:'agatha+all+along+trailer'},{name:"X-Men '97",sub:'AnimÃ© Â· 2024',emoji:'âš¡',grad:'linear-gradient(145deg,#1a237e,#ffd600)',yt:'xmen+97+trailer'},{name:'Moana 2',sub:'Animation Â· 2024',emoji:'ðŸŒŠ',grad:'linear-gradient(145deg,#0277bd,#00bcd4)',yt:'moana+2+trailer'},{name:'The Acolyte',sub:'Star Wars Â· 2024',emoji:'âš”ï¸',grad:'linear-gradient(145deg,#1b5e20,#00695c)',yt:'the+acolyte+trailer'}]},
  {id:'prime',name:'Prime Video',url:'https://www.primevideo.com',logo:'â–¶',logoBg:'#00a8e0',logoText:'#fff',gradA:'#00a8e0',gradB:'#003f5c',heroTitle:'Fallout',heroSpan:'Saison 1',heroMeta:['Post-Apo','2024'],heroScore:'8.5',heroDesc:"Dans les ruines d'un futur atomique, une jeune femme quitte son abri souterrain et dÃ©couvre la sauvagerie du monde extÃ©rieur.",heroColor:'#fbbf24',trailerQ:'fallout+amazon+series+official+trailer',posterEmoji:'â˜¢ï¸',posterGrad:'linear-gradient(145deg,#3d2700 0%,#f59e0b 60%,#fbbf24 100%)',shows:[{name:'Fallout',sub:'Post-Apo Â· 2024',emoji:'â˜¢ï¸',grad:'linear-gradient(145deg,#3d2700,#f59e0b)',yt:'fallout+series+trailer'},{name:'The Boys S4',sub:'Super-hÃ©ros Â· 2024',emoji:'ðŸ’¥',grad:'linear-gradient(145deg,#7f1d1d,#ef4444)',yt:'the+boys+season+4+trailer'},{name:'Rings of Power S2',sub:'Fantasy Â· 2024',emoji:'ðŸ’',grad:'linear-gradient(145deg,#451a03,#d97706)',yt:'rings+of+power+season+2+trailer'},{name:'Reacher S3',sub:'Action Â· 2025',emoji:'ðŸ¥Š',grad:'linear-gradient(145deg,#0c4a6e,#0ea5e9)',yt:'reacher+season+3+trailer'}]},
  {id:'appletv',name:'Apple TV+',url:'https://tv.apple.com',logo:'TV+',logoBg:'#1c1c1e',logoText:'#fff',gradA:'#555',gradB:'#1c1c1e',heroTitle:'Severance',heroSpan:'Saison 2',heroMeta:['Thriller SF','2025'],heroScore:'9.0',heroDesc:"Les frontiÃ¨res entre le moi du dehors et du dedans s'effacent. Lumon Industries cache encore beaucoup de secrets dangereux.",heroColor:'#60a5fa',trailerQ:'severance+season+2+official+trailer',posterEmoji:'ðŸ§ ',posterGrad:'linear-gradient(145deg,#1e3a5f 0%,#2563eb 60%,#60a5fa 100%)',shows:[{name:'Severance S2',sub:'Thriller SF Â· 2025',emoji:'ðŸ§ ',grad:'linear-gradient(145deg,#1e3a5f,#2563eb)',yt:'severance+season+2+trailer'},{name:'Slow Horses S4',sub:'Espionnage Â· 2024',emoji:'ðŸ•µï¸',grad:'linear-gradient(145deg,#1e293b,#475569)',yt:'slow+horses+season+4+trailer'},{name:'The Morning Show S4',sub:'Drame Â· 2024',emoji:'ðŸ“º',grad:'linear-gradient(145deg,#831843,#f472b6)',yt:'morning+show+season+4+trailer'},{name:'Shrinking S2',sub:'ComÃ©die Â· 2024',emoji:'ðŸŒ±',grad:'linear-gradient(145deg,#14532d,#4ade80)',yt:'shrinking+season+2+trailer'}]},
  {id:'max',name:'Max',url:'https://www.max.com',logo:'Max',logoBg:'#5822b4',logoText:'#fff',gradA:'#5822b4',gradB:'#1e0a4a',heroTitle:'The Last of Us',heroSpan:'Saison 2',heroMeta:['Drame','2025'],heroScore:'9.2',heroDesc:"Ellie et Abby. Deux destins liÃ©s par une vengeance implacable dans un monde oÃ¹ la survie a un prix terrible.",heroColor:'#4ade80',trailerQ:'the+last+of+us+season+2+official+trailer',posterEmoji:'ðŸ„',posterGrad:'linear-gradient(145deg,#14532d 0%,#16a34a 55%,#4ade80 100%)',shows:[{name:'The Last of Us S2',sub:'Post-Apo Â· 2025',emoji:'ðŸ„',grad:'linear-gradient(145deg,#14532d,#16a34a)',yt:'the+last+of+us+season+2+trailer'},{name:'House of Dragon S3',sub:'Fantasy Â· 2025',emoji:'ðŸ‰',grad:'linear-gradient(145deg,#7c2d12,#f97316)',yt:'house+of+dragon+season+3+trailer'},{name:'The Penguin',sub:'DC Â· 2024',emoji:'ðŸ§',grad:'linear-gradient(145deg,#0f172a,#334155)',yt:'the+penguin+series+trailer'},{name:'True Detective S5',sub:'Polar Â· 2024',emoji:'ðŸ”¦',grad:'linear-gradient(145deg,#1c1917,#57534e)',yt:'true+detective+season+5+trailer'}]},
  {id:'hulu',name:'Hulu',url:'https://www.hulu.com/welcome',logo:'hulu',logoBg:'#1ce783',logoText:'#000',gradA:'#1ce783',gradB:'#065f46',heroTitle:'ShÅgun',heroSpan:'La SÃ©rie',heroMeta:['Historique','2024'],heroScore:'9.0',heroDesc:"Japon mÃ©diÃ©val. Un navigateur anglais naufragÃ© devient le pion d'un seigneur de guerre dans un jeu de pouvoir entre clans.",heroColor:'#ef4444',trailerQ:'shogun+2024+series+official+trailer',posterEmoji:'â›©ï¸',posterGrad:'linear-gradient(145deg,#7f1d1d 0%,#dc2626 55%,#ef4444 100%)',shows:[{name:'ShÅgun',sub:'Historique Â· 2024',emoji:'â›©ï¸',grad:'linear-gradient(145deg,#7f1d1d,#dc2626)',yt:'shogun+hulu+trailer'},{name:'The Bear S3',sub:'Drame culinaire',emoji:'ðŸ½ï¸',grad:'linear-gradient(145deg,#451a03,#fcd34d)',yt:'the+bear+season+3+trailer'},{name:'Only Murders S4',sub:'ComÃ©die mystÃ¨re',emoji:'ðŸŽ™ï¸',grad:'linear-gradient(145deg,#1c1917,#f97316)',yt:'only+murders+season+4+trailer'},{name:'Abbott Elementary S4',sub:'ComÃ©die Â· 2024',emoji:'ðŸ«',grad:'linear-gradient(145deg,#1e3a5f,#3b82f6)',yt:'abbott+elementary+season+4+trailer'}]},
  {id:'paramount',name:'Paramount+',url:'https://www.paramountplus.com',logo:'P+',logoBg:'#0064ff',logoText:'#fff',gradA:'#0064ff',gradB:'#001f7a',heroTitle:'Tulsa King',heroSpan:'Saison 2',heroMeta:['Crime','2024'],heroScore:'8.2',heroDesc:"Sylvester Stallone reprend le rÃ´le de Dwight, un mafioso de New York bÃ¢tissant un empire criminel en Oklahoma.",heroColor:'#fbbf24',trailerQ:'tulsa+king+season+2+trailer',posterEmoji:'ðŸ‘‘',posterGrad:'linear-gradient(145deg,#451a03 0%,#d97706 60%,#fbbf24 100%)',shows:[{name:'Tulsa King S2',sub:'Crime Â· 2024',emoji:'ðŸ‘‘',grad:'linear-gradient(145deg,#451a03,#d97706)',yt:'tulsa+king+season+2+trailer'},{name:'Mayor of Kingstown S3',sub:'Polar Â· 2024',emoji:'ðŸ™ï¸',grad:'linear-gradient(145deg,#1c1917,#78716c)',yt:'mayor+of+kingstown+season+3+trailer'},{name:'Star Trek Legacy',sub:'Sci-Fi Â· 2025',emoji:'ðŸš€',grad:'linear-gradient(145deg,#1e3a5f,#2563eb)',yt:'star+trek+legacy+trailer'},{name:'Lioness S2',sub:'Action Â· 2024',emoji:'ðŸ¦',grad:'linear-gradient(145deg,#7c2d12,#f97316)',yt:'lioness+season+2+trailer'}]},
  {id:'canal',name:'Canal+',url:'https://www.canalplus.com',logo:'C+',logoBg:'#222',logoText:'#fff',gradA:'#444',gradB:'#111',heroTitle:'La FiÃ¨vre',heroSpan:'Saison 1',heroMeta:['Thriller FR','2024'],heroScore:'8.4',heroDesc:"Un match de foot. Une rumeur. Un pays qui s'embrase. Cette sÃ©rie haletante explore les failles d'une sociÃ©tÃ© au bord du chaos.",heroColor:'#ef4444',trailerQ:'la+fiÃ¨vre+canal+plus+bande+annonce',posterEmoji:'ðŸ”¥',posterGrad:'linear-gradient(145deg,#7f1d1d 0%,#dc2626 55%,#f97316 100%)',shows:[{name:'La FiÃ¨vre',sub:'Thriller Â· 2024',emoji:'ðŸ”¥',grad:'linear-gradient(145deg,#7f1d1d,#ef4444)',yt:'la+fievre+canal+plus+trailer'},{name:'Le Bureau des LÃ©gendes',sub:'Espionnage Â· FR',emoji:'ðŸ•µï¸',grad:'linear-gradient(145deg,#1e293b,#475569)',yt:'bureau+des+legendes+trailer'},{name:'Engrenages S9',sub:'Policier Â· FR',emoji:'âš–ï¸',grad:'linear-gradient(145deg,#0f172a,#1e293b)',yt:'engrenages+saison+9+trailer'},{name:'The Franchise',sub:'ComÃ©die Â· 2024',emoji:'ðŸŽ¬',grad:'linear-gradient(145deg,#1c1917,#57534e)',yt:'the+franchise+hbo+trailer'}]}
];

const COLORS64=['#e63946','#ff4757','#ff6b81','#ff8c94','#ff6348','#ff7f50','#ffa502','#ffbe76','#eccc68','#f9ca24','#f0932b','#e55039','#a3cb38','#6ab04c','#44bd32','#27ae60','#1abc9c','#16a085','#00b894','#00cec9','#0984e3','#0652dd','#1e90ff','#74b9ff','#4834d4','#6c5ce7','#a29bfe','#7f8ff4','#fd79a8','#e84393','#d63031','#c0392b','#2d3436','#636e72','#b2bec3','#dfe6e9','#f368e0','#e040fb','#9b59b6','#8e44ad','#5f27cd','#341f97','#0d47a1','#1565c0','#006266','#1289A7','#006c91','#40739e','#1B1464','#30336b','#130f40','#2c2c54','#58B19F','#78e08f','#b8e994','#e9f7ef','#f8efba','#f9e4b7','#fdcb6e','#e17055','#55efc4','#00d2d3','#5f9ea0','#48dbfb'];
const PRESETS={cinema:{a:'#e63946',bg:'#06070a',bg2:'#0d0f14'},neon:{a:'#00d2d3',bg:'#020810',bg2:'#060f1a'},ice:{a:'#74b9ff',bg:'#050810',bg2:'#0a0f1e'},forest:{a:'#44bd32',bg:'#030806',bg2:'#080f0a'},sunset:{a:'#ffa502',bg:'#0a0702',bg2:'#160e04'},midnight:{a:'#a29bfe',bg:'#06060e',bg2:'#0c0b1c'},royal:{a:'#e040fb',bg:'#080510',bg2:'#0f0818'},fire:{a:'#ff6348',bg:'#0a0503',bg2:'#180a05'}};

let currentColor='#e63946',heroIdx=0,heroInterval=15000,timerStart=0,timerRaf=null,glowMult=.2;

document.addEventListener('DOMContentLoaded',()=>{buildColorGrid();buildHero();buildCards();startTimer()});

function buildColorGrid(){
  const g=document.getElementById('colorGrid');
  COLORS64.forEach(c=>{
    const d=document.createElement('div');
    d.className='csw'+(c===currentColor?' sel':'');
    d.style.background=c;d.title=c;
    d.onclick=()=>setColor(c,true);
    g.appendChild(d);
  });
}

function setColor(hex,flash){
  document.querySelectorAll('.csw').forEach(s=>s.classList.toggle('sel',s.title===hex));
  currentColor=hex;
  const r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);
  const light=`rgb(${Math.min(255,r+55)},${Math.min(255,g+55)},${Math.min(255,b+55)})`;
  const glow=`rgba(${r},${g},${b},${glowMult})`;
  const root=document.documentElement;
  root.style.setProperty('--a',hex);root.style.setProperty('--a-rgb',`${r},${g},${b}`);
  root.style.setProperty('--a2',light);root.style.setProperty('--a-glow',glow);
  if(flash){
    const ov=document.createElement('div');
    ov.style.cssText=`position:fixed;inset:0;background:${hex};opacity:0;pointer-events:none;z-index:500;transition:opacity .25s`;
    document.body.appendChild(ov);
    requestAnimationFrame(()=>{ov.style.opacity='.1';setTimeout(()=>{ov.style.opacity='0';setTimeout(()=>ov.remove(),250)},180)});
  }
}

function setGlow(v){glowMult=v/500;setColor(currentColor,false)}
function applyPreset(key,btn){
  document.querySelectorAll('.preset').forEach(b=>b.classList.remove('on'));
  if(btn)btn.classList.add('on');
  const p=PRESETS[key];
  document.documentElement.style.setProperty('--bg',p.bg);
  document.documentElement.style.setProperty('--bg2',p.bg2);
  setColor(p.a,true);
}
function setRotation(v){heroInterval=parseInt(v)*1000;document.getElementById('rotVal').textContent=v+'s';restartTimer()}

function buildHero(){
  const carousel=document.getElementById('heroCarousel');
  const dotsEl=document.getElementById('heroDots');
  SERVICES.forEach((s,i)=>{
    const slide=document.createElement('div');
    slide.className='hero-slide'+(i===0?' active':'');
    const ytUrl=`https://www.youtube.com/results?search_query=${s.trailerQ}`;
    slide.innerHTML=`
      <div class="slide-poster">
        <div class="poster-art" style="background:${s.posterGrad}">
          <span style="font-size:110px;filter:drop-shadow(0 8px 40px rgba(0,0,0,.7))">${s.posterEmoji}</span>
        </div>
        <div class="poster-fade"></div>
        <div class="poster-fade-b"></div>
      </div>
      <div class="slide-overlay"></div>
      <div class="slide-content">
        <div class="slide-badge">
          <div class="badge-logo" style="background:${s.logoBg};color:${s.logoText}">${s.logo}</div>
          ${s.name}
        </div>
        <div class="slide-title">${s.heroTitle} <span style="color:${s.heroColor}">${s.heroSpan}</span></div>
        <div class="slide-meta">
          ${s.heroMeta.map((m,mi)=>`${mi>0?'<span class="meta-sep"></span>':''}${m}`).join('')}
          <span class="meta-sep"></span><span class="meta-score" style="color:${s.heroColor}">â˜… ${s.heroScore}</span>
        </div>
        <div class="slide-desc">${s.heroDesc}</div>
        <div class="slide-actions">
          <a class="btn-play" href="${s.url}" target="_blank" onclick="doClickFx(event,'${s.gradA}')">
            <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>Regarder
          </a>
          <a class="btn-trailer" href="${ytUrl}" target="_blank">
            <svg class="yt-icon" viewBox="0 0 24 24"><path fill="#ff0000" d="M23.5 6.19a3.02 3.02 0 0 0-2.12-2.14C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.38.55A3.02 3.02 0 0 0 .5 6.19C0 8.09 0 12 0 12s0 3.91.5 5.81a3.02 3.02 0 0 0 2.12 2.14C4.5 20.5 12 20.5 12 20.5s7.5 0 9.38-.55a3.02 3.02 0 0 0 2.12-2.14C24 15.91 24 12 24 12s0-3.91-.5-5.81z"/><polygon fill="#fff" points="9.75 15.02 15.5 12 9.75 8.98 9.75 15.02"/></svg>
            Bande-annonce
          </a>
        </div>
      </div>`;
    carousel.insertBefore(slide,dotsEl);
    const dot=document.createElement('div');
    dot.className='hdot'+(i===0?' active':'');
    dot.onclick=()=>goTo(i);
    dotsEl.appendChild(dot);
  });
}

function goTo(idx){
  document.querySelectorAll('.hero-slide')[heroIdx].classList.remove('active');
  document.querySelectorAll('.hdot')[heroIdx].classList.remove('active');
  heroIdx=idx;
  document.querySelectorAll('.hero-slide')[heroIdx].classList.add('active');
  document.querySelectorAll('.hdot')[heroIdx].classList.add('active');
  restartTimer();
}

function startTimer(){
  const bar=document.getElementById('heroBar');
  bar.style.transition='none';bar.style.width='0%';
  timerStart=performance.now();
  const tick=now=>{
    const elapsed=now-timerStart;
    if(elapsed===0){timerRaf=requestAnimationFrame(tick);return}
    bar.style.transition=`width ${(heroInterval-elapsed)/1000}s linear`;
    bar.style.width='100%';
    if(elapsed>=heroInterval){goTo((heroIdx+1)%SERVICES.length);return}
    timerRaf=requestAnimationFrame(tick);
  };
  setTimeout(()=>{timerStart=performance.now();timerRaf=requestAnimationFrame(tick)},60);
}

function restartTimer(){
  if(timerRaf)cancelAnimationFrame(timerRaf);
  const bar=document.getElementById('heroBar');
  bar.style.transition='none';bar.style.width='0%';
  requestAnimationFrame(()=>startTimer());
}

function buildCards(){
  const grid=document.getElementById('servicesGrid');
  grid.innerHTML='';
  const q=(document.getElementById('searchInput').value||'').toLowerCase();
  const filtered=SERVICES.filter(s=>!q||s.name.toLowerCase().includes(q)||s.shows.some(sh=>sh.name.toLowerCase().includes(q)));
  document.getElementById('countPill').textContent=filtered.length+' service'+(filtered.length>1?'s':'');
  filtered.forEach((s,si)=>{
    const card=document.createElement('a');
    card.className='scard fu';
    card.href=s.url;card.target='_blank';
    card.style.animationDelay=(.07*si)+'s';
    card.onclick=e=>doClickFx(e,s.gradA);
    const showsHTML=s.shows.map(sh=>{
      const ytUrl=`https://www.youtube.com/results?search_query=${sh.yt}`;
      return `<div class="show-row">
        <div class="show-poster"><div class="poster-bg" style="background:${sh.grad}">${sh.emoji}</div><div class="poster-ov"></div></div>
        <div class="show-info"><div class="show-name">${sh.name}</div><div class="show-sub">${sh.sub}</div></div>
        <a class="show-yt" href="${ytUrl}" target="_blank" title="Bande-annonce YouTube">
          <svg viewBox="0 0 24 24"><path d="M23.5 6.19a3.02 3.02 0 0 0-2.12-2.14C19.5 3.5 12 3.5 12 3.5s-7.5 0-9.38.55A3.02 3.02 0 0 0 .5 6.19C0 8.09 0 12 0 12s0 3.91.5 5.81a3.02 3.02 0 0 0 2.12 2.14C4.5 20.5 12 20.5 12 20.5s7.5 0 9.38-.55a3.02 3.02 0 0 0 2.12-2.14C24 15.91 24 12 24 12s0-3.91-.5-5.81z"/><polygon points="9.75 15.02 15.5 12 9.75 8.98 9.75 15.02" fill="#fff"/></svg>
        </a>
      </div>`;
    }).join('');
    card.innerHTML=`
      <div class="card-top">
        <div class="card-grad" style="background:linear-gradient(135deg,${s.gradA},${s.gradB})"></div>
        <div class="card-dots"></div>
        <div class="card-brand">
          <div class="brand-icon" style="background:${s.logoBg};color:${s.logoText}">${s.logo}</div>
          <div class="brand-name">${s.name}</div>
        </div>
      </div>
      <div class="card-body">
        <div class="shows-label">Ã€ voir maintenant</div>
        <div class="shows-list">${showsHTML}</div>
        <div class="card-cta">
          <span class="cta-text">Ouvrir ${s.name}</span>
          <svg class="cta-arr" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </div>
      </div>`;
    card.querySelectorAll('.show-yt').forEach(btn=>btn.addEventListener('click',e=>e.stopPropagation()));
    grid.appendChild(card);
  });
}

function filterCards(){buildCards()}

function doClickFx(e,color){
  const x=e.clientX||window.innerWidth/2,y=e.clientY||window.innerHeight/2;
  const layer=document.getElementById('clickLayer');
  const rip=document.createElement('div');
  rip.style.cssText=`position:absolute;left:${x}px;top:${y}px;width:16px;height:16px;margin:-8px 0 0 -8px;border-radius:50%;background:${color};box-shadow:0 0 60px ${color};pointer-events:none`;
  layer.appendChild(rip);
  requestAnimationFrame(()=>{
    const size=Math.hypot(window.innerWidth,window.innerHeight)*2.2;
    rip.style.transition='transform .75s cubic-bezier(.4,0,.2,1),opacity .75s ease';
    rip.style.transform=`scale(${size/16})`;rip.style.opacity='.14';
    setTimeout(()=>{rip.style.opacity='0';setTimeout(()=>rip.remove(),400)},380);
  });
  for(let i=0;i<12;i++){
    const p=document.createElement('div');
    const angle=(i/12)*Math.PI*2+Math.random()*.5;
    const dist=55+Math.random()*90,sz=2+Math.random()*5;
    p.style.cssText=`position:absolute;left:${x}px;top:${y}px;width:${sz}px;height:${sz}px;margin:-${sz/2}px;border-radius:50%;background:${color};box-shadow:0 0 8px ${color};pointer-events:none`;
    layer.appendChild(p);
    requestAnimationFrame(()=>{
      p.style.transition='transform .65s cubic-bezier(.2,0,.4,1),opacity .65s ease';
      p.style.transform=`translate(${Math.cos(angle)*dist}px,${Math.sin(angle)*dist}px) scale(0)`;
      p.style.opacity='0';
      setTimeout(()=>p.remove(),650);
    });
  }
}

function openSettings(){document.getElementById('sPanel').classList.add('open');document.getElementById('sBg').classList.add('open')}
function closeSettings(){document.getElementById('sPanel').classList.remove('open');document.getElementById('sBg').classList.remove('open')}
</script>
</body>
</html>
